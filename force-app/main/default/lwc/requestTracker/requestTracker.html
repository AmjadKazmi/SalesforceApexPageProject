<template>
    <div class="jira-board">
        <template for:each={columns} for:item="col">
            <div key={col.status} class="jira-column" ondrop={handleDrop} ondragover={allowDrop} data-status={col.status}>
                <h2 class="column-title">{col.label}</h2>
                <template for:each={col.cases} for:item="cs">
                    <div key={cs.Id} class={cs.cardClass} draggable="true" ondragstart={handleDrag} 
                        onclick={caseDetails} data-id={cs.Id}>
                        <div class="card-header">
                            <div class="case-title-container">
                                <p class="card-title">Case #{cs.CaseNumber}</p>
                                <c-product-details-hover 
                                    case-id={cs.Id}
                                    case-data={productDetailsData}>
                                    <lightning-icon 
                                        class="info-icon"
                                        icon-name="utility:info" 
                                        alternative-text="Info" 
                                        size="xx-small">
                                    </lightning-icon>
                                </c-product-details-hover>
                            </div>
                            <p class="card-desc">{cs.Subject}</p>
                            <p class="card-desc">Created Date: {cs.formattedCreatedDate}</p>
                        </div>
                    </div>   
                </template>
            </div>
        </template>
    </div>
</template>